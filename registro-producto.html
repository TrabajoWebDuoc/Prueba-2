<!DOCTYPE html>
<html>
<head>
    <title> Registro producto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    
    
    
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

<script>
  $(function()
  {
      $.getJSON('https://mindicador.cl/api', function(data) {
          $('.btnConvertir').val(data.dolar.valor);

      }).fail(function() {
          console.log('Error al consumir la API!');
      });

      $('.btnConvertir').click(function()
      {
          let pesos             = $('.txtPesos').val();
          let dolar_intercambio = $('.btnConvertir').val();
          let total = pesos / dolar_intercambio;
          var total2 = total.toFixed(2);
          $('.txtTotalDolar').val(total2);
          return false;
      })
  })
</script>
    
    <script>
      $(function()
      {
        $('.btnAceptar').click(function() // tarea: ver docume. jquery acerca de los eventos
        {
          //alert('Hola Mundo');
          let Codigo	= $('.txtCodigo').val(); // obtiene el valor de la txt
          let Marca = $('.txtMarca').val(); // obtiene el valor de la txt
          
          if($('.txtCodigo').val() == "")
          {
            alert("Debe especificar el codigo");
            $('.txtCodigo').focus();
            return false;
          }
          if($('.txtMarca').val() == "")
          {
            alert("Debe especificar la marca");
            $('.txtMarca').focus();
            return false;
          }
          if($('.txtStock').val() == "")
          {
            alert("Debe especificar la cantidad");
            $('.txtStock').focus();
            return false;
          }
          if($('.txtPesos').val() == "")
          {
            alert("Debe especificar el precio sin puntos ni comas");
            $('.txtPesos').focus();
            return false;
          }	
          
          // validar según formato. Expresiones regulares
          alert("Datos especificados:" + 
              "\nCodigo: " + $('.txtCodigo').val()  + 
              "\nMarca: " + $('.txtMarca').val()  +
              "\nStock: " + $('.txtStock').val()  +
              "\nPrecio: " + $('.txtPesos').val()  +
              "\nDescripcion: " + $('.txtDescripcion').val()
          );
          
          return false; // evita la petición
        }); // fin evento click
      
        var letras = 'qwertyuiopasdfghjklñzxcvbnmQWERTYUIOPASDFGHJKLÑZXCVBNMÁÉÍóÚáéíóú ';
        var email  = 'qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_.@1234567890 ';
        var numeros= '1234567890';
        
        $('.txtCodigo, .txtStock, .txtPesos ').keypress(function(e)
        {
          let caracter = String.fromCharCode(e.which); //convierte el codigo
          if(numeros.indexOf(caracter) <0)
            return false;
        })
        $('.txtMarca, .txtDescripcion').keypress(function(e)
        {			
          let caracter = String.fromCharCode(e.which);				
          if(letras.indexOf(caracter) < 0)
            return false;				
        })			
      })	
    </script>
</head>
<body class="body">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">e-Commerce</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link " href="inicio sesion.html">Iniciar sesion</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Registro
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="registro.html">usuario</a></li>
                  <li><a class="dropdown-item" href="registro-producto.html">producto</a></li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Ropa
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="Chaleco.html">chaleco</a></li>
                  <li><a class="dropdown-item" href="Pantalon.html">pantalones</a></li>
                  <li><a class="dropdown-item" href="zapatillas.html">zapatillas</a></li>
                </ul>
              </li>
            </ul>
      <form class="form-inline my-2 my-lg-0">
        <input name="txtPesos" class="txtPesos form-control mr-sm-2" type="search" placeholder="Pesos" aria-label="Search">
        <button name="btnConvertir" class="btnConvertir btn btn-outline-success my-2 my-sm-0" type="submit">Convertir</button>
        <input name="txtTotalDolar" class="txtTotalDolar form-control mr-sm-2" type="search" placeholder="Dolar" aria-label="Search">
      </form>
        </div>
      </nav>  
 
      <form class="formulario">
          <h1 align="center">Registrar producto</h1>
        <div class ="registro">
            <div class="registro">
                <label for="floatingrut">Codigo de barra</label>
                <input type="text" class="txtCodigo form-control" name="txtCodigo" maxlength="13">               
            </div>       
            <div class="registro">
                <label for="floatingnombre">Marca</label>
                <input type="text" name="txtMarca" maxlength="15" class="txtMarca form-control">
                
              </div>
              <div class="registro">
                <label for="floatingapellido">Stock</label>
                <input type="text" class="txtStock form-control" name="txtStock" maxlength="5" >
              </div>
              <div class="registro">
                <label for="floatingtelefono">Precio pesos</label>
                <input type="text" class="txtPesos form-control" name="txtPesos" maxlength="10" >
              </div>          
            <div class="registro">
                <label for="floatinginput">Descripcion</label>
                <textarea  type="text" class="txtDescripcion form-control" name="txtDescripcion" rows="3" maxlength="100"></textarea>
              </div>
              <div class="row g-2">
                <input type="submit"  name="btnAceptar" class="btnAceptar boton" value="Registrar">
              </form>
    
</body>
</html>
