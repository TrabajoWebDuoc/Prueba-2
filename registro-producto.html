<!DOCTYPE html>
<html>
<head>
    <title> Registro producto</title>
   <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
 
<script>
  $(function()
  {
      $.getJSON('https://mindicador.cl/api', function(data) {
          $('.btnConvertir').val(data.dolar.valor);

      }).fail(function() {
          console.log('Error al consumir la API!');
      });

      $('.btnConvertir').click(function()
      {
          let pesos             = $('.txtPesos').val();
          let dolar_intercambio = $('.btnConvertir').val();
          let total = pesos / dolar_intercambio;
          var total2 = total.toFixed(2);
          $('.txtTotalDolar').val(total2);
          return false;
      })
  })
</script>
    
    <script>
      $(function()
      {
        $('.btnAceptar').click(function() // tarea: ver docume. jquery acerca de los eventos
        {
          //alert('Hola Mundo');
          let Codigo	= $('.txtCodigo').val(); // obtiene el valor de la txt
          let Marca = $('.txtMarca').val(); // obtiene el valor de la txt
          
          if($('.txtCodigo').val() == "")
          {
            alert("Debe especificar el codigo");
            $('.txtCodigo').focus();
            return false;
          }
          if($('.txtMarca').val() == "")
          {
            alert("Debe especificar la marca");
            $('.txtMarca').focus();
            return false;
          }
          if($('.txtStock').val() == "")
          {
            alert("Debe especificar la cantidad");
            $('.txtStock').focus();
            return false;
          }
          if($('.txtPesos').val() == "")
          {
            alert("Debe especificar el precio sin puntos ni comas");
            $('.txtPesos').focus();
            return false;
          }	
          
          // validar según formato. Expresiones regulares
          alert("Datos especificados:" + 
              "\nCodigo: " + $('.txtCodigo').val()  + 
              "\nMarca: " + $('.txtMarca').val()  +
              "\nStock: " + $('.txtStock').val()  +
              "\nPrecio: " + $('.txtPesos').val()  +
              "\nDescripcion: " + $('.txtDescripcion').val()
          );
          
          return false; // evita la petición
        }); // fin evento click
      
        var letras = 'qwertyuiopasdfghjklñzxcvbnmQWERTYUIOPASDFGHJKLÑZXCVBNMÁÉÍóÚáéíóú ';
        var email  = 'qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_.@1234567890 ';
        var numeros= '1234567890';
        
        $('.txtCodigo, .txtStock, .txtPesos ').keypress(function(e)
        {
          let caracter = String.fromCharCode(e.which); //convierte el codigo
          if(numeros.indexOf(caracter) <0)
            return false;
        })	
      })	
    </script>
</head>
<body class="body">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="index.html">e-Commerse</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="inicio sesion.html">Iniciar sesion</a>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-expanded="false">
              Registro
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="registro.html">usuario</a></li>
              <li><a class="dropdown-item" href="registro-producto.html">producto</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-expanded="false">
              Ropa
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="Chaleco.html">chaleco</a></li>
              <li><a class="dropdown-item" href="Pantalon.html">pantalones</a></li>
              <li><a class="dropdown-item" href="zapatillas.html">zapatillas</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true"></a>
          </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <input type="text" name="txtPesos" class="txtPesos form-control mr-sm-2" placeholder="Pesos">
        <button name="btnConvertir" class="btnConvertir btn btn-outline-success my-2 my-sm-0" type="submit">Convertir</button>
        <input type="text" name="txtTotalDolar" class="txtTotalDolar form-control mr-sm-2" placeholder="Dolar">
      </form>
    </div>
  </nav>
  </div>
      <form class="formulario">
          <h1 align="center">Registrar producto</h1>
        <div class ="registro">
            <div class="registro">
                <label for="floatingrut">Codigo de barra</label>
                <input type="text" class="txtCodigo form-control" name="txtCodigo" maxlength="13">               
            </div>       
            <div class="registro">
                <label for="floatingnombre">Marca</label>
                <input type="text" name="txtMarca" maxlength="15" class="txtMarca form-control">
                
              </div>
              <div class="registro">
                <label for="floatingapellido">Stock</label>
                <input type="text" class="txtStock form-control" name="txtStock" maxlength="5" >
              </div>
              <div class="registro">
                <label for="floatingtelefono">Precio pesos</label>
                <input type="text" class="txtPesos form-control" name="txtPesos" maxlength="10" >
              </div>          
            <div class="registro">
                <label for="floatinginput">Descripcion</label>
                <textarea  type="text" class="txtDescripcion form-control" name="txtDescripcion" rows="3" maxlength="100"></textarea>
              </div>
              <div class="row g-2">
                <input type="submit"  name="btnAceptar" class="btnAceptar boton" value="Registrar">
              </form>
    
</body>
</html>
